from scipy.spatial.distance import mahalanobis
import scipy as sp
import pandas as pd
import math
import sys

x = pd.read_json(sys.argv[1]);

Sx = x.cov().values
Sx = sp.linalg.inv(Sx)

mean = x.mean().values

def mahalanobisR(X,meanCol,IC):
    m = []
    for i in range(X.shape[0]):
        m.append(mahalanobis(X.ix[i,:],meanCol,IC) ** 2)
    return(m)

mR = mahalanobisR(x,mean,Sx)

print map(lambda x: math.sqrt(x), mR)
